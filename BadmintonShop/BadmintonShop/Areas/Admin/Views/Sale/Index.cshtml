@model IEnumerable<BadmintonShop.Models.DAL.Sale>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-12">
        <!-- Advanced Tables -->
        <div class="card">
            <div class="card-action">
                Danh sách 
            </div>
            <hr />
            <div class="col-sm-6">
                <div class="dataTables_length">
                    <a class="btn btn-sm btn-default" href="/Admin/Sale/Create"><img src="~/Content/image/Button-Add-icon.png" height="27" /></a>
                </div>
            </div>
            <div class="col-sm-6">
                <div id="dataTables-example_filter" class="dataTables_filter">
                    @using (Html.BeginForm("Index", "Sale", FormMethod.Post, new { @id = "search-form" }))
                    {
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Tìm kiếm" name="SearchTerm" value="@ViewBag.SearchTerm" id="search-box">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-default hidden-xs"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    }
                </div>
            </div>
            <div class="card-content">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => model.Product.Name)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Discount)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Begin)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.End)
                            </th>
                            <th></th>
                        </tr>

                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Product.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Discount)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Begin).ToString().Split(' ')[0]
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.End).ToString().Split(' ')[0]
                                </td>
                                <td>
                                    <div>
                                        <a href="/Admin/Sale/Edit/@item.ID" data-toggle="tooltip" title="Cập nhập khuyến mại" class="btn btn-default btn-sm">
                                            <img src="~/Content/image/edit-validated-icon.png" />
                                        </a>
                                        <a href="/Admin/Sale/Delete/@item.ID" data-toggle="tooltip" title="Xóa khuyến mại" class="btn btn-default btn-sm" onclick="return Xoa();">
                                            <img src="~/Content/image/Actions-edit-delete-icon.png" />
                                        </a>
                                        <script type="text/javascript" language="javascript">
                                            function Xoa() {
                                                var result = confirm("Bạn có thực sự muốn xóa không?");
                                                if (result) {
                                                    return true;
                                                }
                                                return false;
                                            }
                                        </script>
                                    </div>
                                </td>
                            </tr>
                        }

                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
